\section{Design and Implementation}\label{Design and Implementation}
	In this section we will discuss the design and implementation of the whole system. First of is the section about the client side of the equation and then follows the server side. 
	
	Below is a first taste of how our system works. In figure \ref{fig:totaloverview} you can see a cloud of clients which can be on the same local network or be on different networks. The \textit{ESB} talks to \textit{GlassFish} where services are placed and clients talk to the ESB which mediates the message into GlassFish. In order for the ESB to know how much bandwidth each client can utilize, it is dependent on the \textit{Monitoring Service} which relays that sort of network information.
    
    \begin{figure}[H]
        \centering
        \includegraphics[scale=0.5]{Totaloverview}
        \caption{Total Overview}
        This figure shows roughly how our project looks from a bird's-eye view.
        \label{fig:totaloverview}
    \end{figure}

    \input{Design-Client}
    \input{Design-Server}
    
    \subsection{Changes}\label{Changes}
        There are a lot of changes from the initial prestudy design to the final design described in this chapter. The prestudy design did not go into a lot of detail because of limited knowledge about the systems we were to be using. Some assumptions made proved to be wrong, and a lot of difficulties popped up along the way. We had a very long planning phase before the implementation in this project. Before we started the implementation we were much closer to the final design than we were in the prestudy, with only a few notable changes made during implementation. These changes are what we would like to discuss in this chapter. This discussion should help you get a better understanding of some of our discoveries, and maybe why we ended up with the product we now have.

        \input{Changes-Client}
        \input{Changes-Server}
        \input{Changes-OpenSAML}
